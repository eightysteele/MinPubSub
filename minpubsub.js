(function(d){var cache=d.c_||{},publish=null,subscribe=null,unsubscribe=null;publish=function(topic,args){var subs=cache[topic],len=subs?subs.length:0;while(len--){subs[len].apply(d,args||[]);}};subscribe=function(topic,callback){if(!cache[topic]){cache[topic]=[];}cache[topic].push(callback);return[topic,callback];};unsubscribe=function(handle,callback){var subs=cache[callback?handle:handle[0]],callback=callback||handle[1],len=subs?subs.length:0;while(len--){if(subs[len]===callback){subs.splice(len,1);}}};d.mps={};d.mps.Event=function(type,action,data){if(!(this instanceof d.mps.Event)){return new d.mps.Event(type,action,data);}this.getType=function(){return type;};this.getAction=function(){return action;};this.getData=function(){return data;};return this;};d.mps.create=function(type,action,data){return new d.mps.Event(type,action,data);};d.mps.publish=function(event){publish(event.getType(),[event]);};d.mps.subscribe=function(eventType,eventHandler){subscribe(eventType,eventHandler);};d.mps.unsubscribe=unsubscribe;})(this);